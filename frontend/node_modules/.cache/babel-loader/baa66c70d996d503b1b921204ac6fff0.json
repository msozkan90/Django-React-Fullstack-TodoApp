{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OZCAN\\\\Desktop\\\\frontend\\\\src\\\\App.js\";\n// import logo from './logo.svg';\n// import './App.css';\n// import React, { Component } from 'react'\n// class App extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       todoList: [],\n//       activeItem: {\n//         id: null,\n//         title: '',\n//         completed: false,\n//       },\n//       editing: false,\n//       deneme:\"\",\n//     };\n//     this.fetchTasks = this.fetchTasks.bind(this);\n//     this.handleChange = this.handleChange.bind(this);\n//     this.formSubmit = this.formSubmit.bind(this);\n//     this.startEdit = this.startEdit.bind(this);\n//     this.getCookie = this.getCookie.bind(this);\n//     this.deleteItem = this.deleteItem.bind(this);\n//   };\n//   getCookie(name) {\n//     var cookieValue = null;\n//     if (document.cookie && document.cookie !== '') {\n//       var cookies = document.cookie.split(';');\n//       for (var i = 0; i < cookies.length; i++) {\n//         var cookie = cookies[i].trim();\n//         // Does this cookie string begin with the name we want?\n//         if (cookie.substring(0, name.length + 1) === (name + '=')) {\n//           cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n//           break;\n//         }\n//       }\n//     }\n//     return cookieValue;\n//   }\n//   componentDidMount() {\n//     this.fetchTasks()\n//   }\n//   //  setTimeout(this.fetchTasks, 5000); \n//   // myTimeout = setTimeout(this.fetchTasks, milliseconds);\n//   componentWillMount() {\n//     this.fetchTasks()\n//   }\n//   fetchTasks() {\n//     console.log(\"Fetching...\")\n//     fetch('http://127.0.0.1:8000/todolist')\n//       .then(response => response.json())\n//       .then(data =>\n//         //console.log(data)\n//         this.setState({\n//           todoList: data\n//         })\n//       )\n//   }\n//   formSubmit(e) {\n//     e.preventDefault()\n//     if (this.state.activeItem.title === '') {\n//       console.log(\"Bu alan boş bırakılamaz\")\n//       console.log(this.state.todoList)\n//     }\n//     else {\n//       console.log(\"Submit...\")\n//       let item_id = this.state.activeItem.id\n//       console.log(this.state.editing)\n//       var csrftoken = this.getCookie('csrftoken')\n//       var url = 'http://127.0.0.1:8000/createItem'\n//       if (this.state.editing === true) {\n//         url = `http://127.0.0.1:8000/updateItem/${this.state.activeItem.id}`\n//         this.setState({\n//           editing: false\n//         })\n//       }\n//       fetch(url, {\n//         method: 'POST',\n//         headers: {\n//           'Content-type': 'application/json',\n//           'X-CSRFToken': csrftoken,\n//         },\n//         body: JSON.stringify(this.state.activeItem)\n//       }).then((response) => {\n//         this.fetchTasks()\n//         this.setState({\n//           activeItem: {\n//             id: null,\n//             title: '',\n//             completed: false,\n//           }\n//         })\n//       }).catch(function (error) {\n//         console.log('ERROR:', error)\n//       })\n//     }\n//   }\n//   startEdit(task) {\n//     this.setState({\n//       deneme:task.title,\n//     })\n//     // this.setState({\n//     //   activeItem:{\n//     //     ...task,\n//     //     editing:true\n//     //   }\n//     // })\n//     this.forceUpdate();\n//     //console.log(this.state.activeItem)\n//     console.log(this.state.deneme)\n//   }\n//   deleteItem(task) {\n//     console.log(task.id)\n//     var csrftoken = this.getCookie('csrftoken')\n//     console.log(csrftoken)\n//     fetch(`http://127.0.0.1:8000/deleteItem/${task.id}`, {\n//       method: 'DELETE',\n//       headers: {\n//         'Content-type': 'application/json',\n//         'X-CSRFToken': csrftoken,\n//       },\n//       body: JSON.stringify(task.id)\n//     }).then((response) => {\n//       console.log(response)\n//       this.fetchTasks()\n//     })\n//   }\n//   handleChange(e) {\n//     var value = e.target.value\n//     if (value === '') {\n//       this.setState(\n//         {\n//           activeItem: {\n//             title: value\n//           }\n//         }\n//       )\n//       console.log(\"Bu alan boş bırakılamaz\")\n//     }\n//     else {\n//       console.log('Value:', value)\n//       this.setState(\n//         {\n//           activeItem: {\n//             title: value\n//           }\n//         }\n//       )\n//     }\n//   }\n//   strikeUnstrike(task) {\n//     task.completed = !task.completed\n//     var csrftoken = this.getCookie('csrftoken')\n//     var url = `http://127.0.0.1:8000/updateItem/${task.id}`\n//     fetch(url, {\n//       method: 'POST',\n//       headers: {\n//         'Content-type': 'application/json',\n//         'X-CSRFToken': csrftoken,\n//       },\n//       body: JSON.stringify({ 'completed': task.completed, 'title': task.title })\n//     }).then(() => {\n//       this.fetchTasks()\n//     })\n//     console.log('TASK:', task.completed)\n//   }\n//   render() {\n//     var tasks = this.state.todoList\n//     var self = this\n//     return (\n//       <>\n//         <nav className='navbar bg-dark text-white'>\n//           <h4><img src={logo} alt=\"react-logo\" className='r-logo' />REACT</h4>\n//         </nav>\n//         <div className='container'>\n//           <div className=\"row\">\n//             <div className=\"col-md-3\">\n//             </div>\n//             <div className=\"col-md-6\">\n//               <div className=\"task-container\">\n//                 <div className=\"form-wrapper\">\n//                   <h5>Todo App </h5>\n//                   <form onSubmit={this.formSubmit} className='mt-5'>\n//                     <div className=\"flex-wrapper\">\n//                       <input onChange={this.handleChange} id=\"title\" value={this.state.activeItem.title} className='form-control' name=\"title\" type=\"text\" />\n//                       <button className='btn btn-dark'>Submit</button>\n//                     </div>\n//                   </form>\n//                   {tasks.map(function (task, index) {\n//                     return (\n//                       <div>\n//                         <div key={index} className='task-wrapper flex-wrapper'>\n//                           <div key={index} onClick={() => self.strikeUnstrike(task)} >\n//                             {task.completed == false ? (\n//                               <span>{task.title}</span>\n//                             ) : (\n//                               <strike>{task.title}</strike>\n//                             )}\n//                           </div>\n//                           <button onClick={() => self.deleteItem(task)} className=\"close\">X</button>\n//                           <div>\n//                             <button onClick={() =>{self.setState({activeItem:task}); console.log(self.state.activeItem)}} className=\"btn btn-sm btn-outline-info ml-5\">Edit</button>\n//                           </div>\n//                         </div>\n//                       </div>\n//                     )\n//                   })}\n//                 </div>\n//               </div>\n//             </div>\n//           </div>\n//         </div>\n//       </>\n//     )\n//   }\n// }\n// export default App;\nimport React from 'react';\nimport './App.css';\nimport logo from './logo.svg';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      todoList: [],\n      activeItem: {\n        id: null,\n        title: '',\n        completed: false\n      },\n      editing: false\n    };\n    this.fetchTasks = this.fetchTasks.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getCookie = this.getCookie.bind(this);\n    this.startEdit = this.startEdit.bind(this);\n    this.deleteItem = this.deleteItem.bind(this);\n    this.strikeUnstrike = this.strikeUnstrike.bind(this);\n  }\n\n  getCookie(name) {\n    var cookieValue = null;\n\n    if (document.cookie && document.cookie !== '') {\n      var cookies = document.cookie.split(';');\n\n      for (var i = 0; i < cookies.length; i++) {\n        var cookie = cookies[i].trim(); // Does this cookie string begin with the name we want?\n\n        if (cookie.substring(0, name.length + 1) === name + '=') {\n          cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n          break;\n        }\n      }\n    }\n\n    return cookieValue;\n  }\n\n  componentWillMount() {\n    this.fetchTasks();\n  }\n\n  fetchTasks() {\n    console.log('Fetching...');\n    fetch('http://127.0.0.1:8000/todolist').then(response => response.json()).then(data => this.setState({\n      todoList: data\n    }));\n  }\n\n  handleChange(e) {\n    var name = e.target.name;\n    var value = e.target.value;\n    console.log('Name:', name);\n    console.log('Value:', value);\n    this.setState({\n      activeItem: { ...this.state.activeItem,\n        title: value\n      }\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    console.log('ITEM:', this.state.activeItem);\n    var csrftoken = this.getCookie('csrftoken');\n    var url = 'http://127.0.0.1:8000/createItem';\n\n    if (this.state.editing == true) {\n      url = `http://127.0.0.1:8000/updateItem/${this.state.activeItem.id}`;\n      this.setState({\n        editing: false\n      });\n    }\n\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n        'X-CSRFToken': csrftoken\n      },\n      body: JSON.stringify(this.state.activeItem)\n    }).then(response => {\n      this.fetchTasks();\n      this.setState({\n        activeItem: {\n          id: null,\n          title: '',\n          completed: false\n        }\n      });\n    }).catch(function (error) {\n      console.log('ERROR:', error);\n    });\n  }\n\n  startEdit(task) {\n    this.setState({\n      activeItem: task,\n      editing: true\n    });\n  }\n\n  deleteItem(task) {\n    var csrftoken = this.getCookie('csrftoken');\n    fetch(`http://127.0.0.1:8000/deleteItem/${task.id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-type': 'application/json',\n        'X-CSRFToken': csrftoken\n      }\n    }).then(response => {\n      this.fetchTasks();\n    });\n  }\n\n  strikeUnstrike(task) {\n    task.completed = !task.completed;\n    var csrftoken = this.getCookie('csrftoken');\n    var url = `http://127.0.0.1:8000/updateItem/${task.id}`;\n    fetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n        'X-CSRFToken': csrftoken\n      },\n      body: JSON.stringify({\n        'completed': task.completed,\n        'title': task.title\n      })\n    }).then(() => {\n      this.fetchTasks();\n    });\n    console.log('TASK:', task.completed);\n  }\n\n  render() {\n    var tasks = this.state.todoList;\n    var self = this;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar bg-dark text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            alt: \"react-logo\",\n            className: \"r-logo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 20\n          }, this), \"REACT\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"task-container \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"form-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.handleSubmit,\n              id: \"form\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 6\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    onChange: this.handleChange,\n                    className: \"form-control\",\n                    id: \"title\",\n                    value: this.state.activeItem.title,\n                    type: \"text\",\n                    name: \"title\",\n                    placeholder: \"Add task..\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 469,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"submit\",\n                    className: \"btn btn-warning\",\n                    type: \"submit\",\n                    name: \"Add\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 473,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 472,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 18\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"list-wrapper\",\n            children: tasks.map(function (task, index) {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"task-wrapper flex-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  onClick: () => self.strikeUnstrike(task),\n                  style: {\n                    flex: 7\n                  },\n                  children: task.completed == false ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: task.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 491,\n                    columnNumber: 37\n                  }, this) : /*#__PURE__*/_jsxDEV(\"strike\", {\n                    children: task.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 495,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => self.startEdit(task),\n                    className: \"btn btn-sm btn-outline-info\",\n                    children: \"Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    flex: 1\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => self.deleteItem(task),\n                    className: \"btn btn-sm btn-outline-dark delete\",\n                    children: \"-\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 505,\n                    columnNumber: 33\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 29\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 486,\n                columnNumber: 27\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","logo","App","Component","constructor","props","state","todoList","activeItem","id","title","completed","editing","fetchTasks","bind","handleChange","handleSubmit","getCookie","startEdit","deleteItem","strikeUnstrike","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","componentWillMount","console","log","fetch","then","response","json","data","setState","e","target","value","preventDefault","csrftoken","url","method","headers","body","JSON","stringify","catch","error","task","render","tasks","self","flex","map","index"],"sources":["C:/Users/OZCAN/Desktop/frontend/src/App.js"],"sourcesContent":["// import logo from './logo.svg';\n// import './App.css';\n\n// import React, { Component } from 'react'\n\n\n// class App extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state = {\n//       todoList: [],\n//       activeItem: {\n//         id: null,\n//         title: '',\n//         completed: false,\n//       },\n//       editing: false,\n//       deneme:\"\",\n//     };\n//     this.fetchTasks = this.fetchTasks.bind(this);\n//     this.handleChange = this.handleChange.bind(this);\n//     this.formSubmit = this.formSubmit.bind(this);\n//     this.startEdit = this.startEdit.bind(this);\n//     this.getCookie = this.getCookie.bind(this);\n//     this.deleteItem = this.deleteItem.bind(this);\n\n//   };\n\n//   getCookie(name) {\n//     var cookieValue = null;\n//     if (document.cookie && document.cookie !== '') {\n//       var cookies = document.cookie.split(';');\n//       for (var i = 0; i < cookies.length; i++) {\n//         var cookie = cookies[i].trim();\n//         // Does this cookie string begin with the name we want?\n//         if (cookie.substring(0, name.length + 1) === (name + '=')) {\n//           cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n//           break;\n//         }\n//       }\n//     }\n//     return cookieValue;\n//   }\n//   componentDidMount() {\n//     this.fetchTasks()\n//   }\n\n\n//   //  setTimeout(this.fetchTasks, 5000); \n//   // myTimeout = setTimeout(this.fetchTasks, milliseconds);\n\n\n//   componentWillMount() {\n//     this.fetchTasks()\n//   }\n//   fetchTasks() {\n\n//     console.log(\"Fetching...\")\n//     fetch('http://127.0.0.1:8000/todolist')\n//       .then(response => response.json())\n//       .then(data =>\n//         //console.log(data)\n//         this.setState({\n//           todoList: data\n//         })\n\n\n//       )\n\n//   }\n\n\n\n//   formSubmit(e) {\n//     e.preventDefault()\n\n//     if (this.state.activeItem.title === '') {\n//       console.log(\"Bu alan boş bırakılamaz\")\n//       console.log(this.state.todoList)\n//     }\n//     else {\n\n//       console.log(\"Submit...\")\n//       let item_id = this.state.activeItem.id\n\n//       console.log(this.state.editing)\n//       var csrftoken = this.getCookie('csrftoken')\n\n//       var url = 'http://127.0.0.1:8000/createItem'\n\n//       if (this.state.editing === true) {\n//         url = `http://127.0.0.1:8000/updateItem/${this.state.activeItem.id}`\n\n//         this.setState({\n//           editing: false\n//         })\n//       }\n\n\n\n//       fetch(url, {\n//         method: 'POST',\n//         headers: {\n//           'Content-type': 'application/json',\n//           'X-CSRFToken': csrftoken,\n//         },\n//         body: JSON.stringify(this.state.activeItem)\n//       }).then((response) => {\n//         this.fetchTasks()\n//         this.setState({\n//           activeItem: {\n//             id: null,\n//             title: '',\n//             completed: false,\n//           }\n//         })\n//       }).catch(function (error) {\n//         console.log('ERROR:', error)\n//       })\n\n\n\n//     }\n\n//   }\n\n//   startEdit(task) {\n//     this.setState({\n//       deneme:task.title,\n//     })\n   \n//     // this.setState({\n//     //   activeItem:{\n//     //     ...task,\n//     //     editing:true\n//     //   }\n//     // })\n//     this.forceUpdate();\n//     //console.log(this.state.activeItem)\n//     console.log(this.state.deneme)\n\n//   }\n\n\n\n//   deleteItem(task) {\n//     console.log(task.id)\n\n//     var csrftoken = this.getCookie('csrftoken')\n//     console.log(csrftoken)\n\n//     fetch(`http://127.0.0.1:8000/deleteItem/${task.id}`, {\n//       method: 'DELETE',\n//       headers: {\n//         'Content-type': 'application/json',\n//         'X-CSRFToken': csrftoken,\n//       },\n//       body: JSON.stringify(task.id)\n//     }).then((response) => {\n//       console.log(response)\n//       this.fetchTasks()\n//     })\n//   }\n\n\n\n\n\n//   handleChange(e) {\n\n//     var value = e.target.value\n//     if (value === '') {\n//       this.setState(\n//         {\n//           activeItem: {\n//             title: value\n//           }\n//         }\n//       )\n//       console.log(\"Bu alan boş bırakılamaz\")\n//     }\n//     else {\n//       console.log('Value:', value)\n//       this.setState(\n//         {\n//           activeItem: {\n//             title: value\n//           }\n//         }\n//       )\n//     }\n\n\n//   }\n\n//   strikeUnstrike(task) {\n\n//     task.completed = !task.completed\n//     var csrftoken = this.getCookie('csrftoken')\n//     var url = `http://127.0.0.1:8000/updateItem/${task.id}`\n\n//     fetch(url, {\n//       method: 'POST',\n//       headers: {\n//         'Content-type': 'application/json',\n//         'X-CSRFToken': csrftoken,\n//       },\n//       body: JSON.stringify({ 'completed': task.completed, 'title': task.title })\n//     }).then(() => {\n//       this.fetchTasks()\n//     })\n\n//     console.log('TASK:', task.completed)\n//   }\n\n\n\n//   render() {\n//     var tasks = this.state.todoList\n//     var self = this\n//     return (\n//       <>\n\n//         <nav className='navbar bg-dark text-white'>\n//           <h4><img src={logo} alt=\"react-logo\" className='r-logo' />REACT</h4>\n//         </nav>\n//         <div className='container'>\n//           <div className=\"row\">\n//             <div className=\"col-md-3\">\n//             </div>\n\n\n//             <div className=\"col-md-6\">\n//               <div className=\"task-container\">\n\n//                 <div className=\"form-wrapper\">\n//                   <h5>Todo App </h5>\n//                   <form onSubmit={this.formSubmit} className='mt-5'>\n//                     <div className=\"flex-wrapper\">\n\n//                       <input onChange={this.handleChange} id=\"title\" value={this.state.activeItem.title} className='form-control' name=\"title\" type=\"text\" />\n\n//                       <button className='btn btn-dark'>Submit</button>\n\n//                     </div>\n//                   </form>\n\n//                   {tasks.map(function (task, index) {\n\n//                     return (\n//                       <div>\n//                         <div key={index} className='task-wrapper flex-wrapper'>\n//                           <div key={index} onClick={() => self.strikeUnstrike(task)} >\n//                             {task.completed == false ? (\n//                               <span>{task.title}</span>\n\n//                             ) : (\n\n//                               <strike>{task.title}</strike>\n//                             )}\n//                           </div>\n//                           <button onClick={() => self.deleteItem(task)} className=\"close\">X</button>\n\n//                           <div>\n//                             <button onClick={() =>{self.setState({activeItem:task}); console.log(self.state.activeItem)}} className=\"btn btn-sm btn-outline-info ml-5\">Edit</button>\n//                           </div>\n\n//                         </div>\n//                       </div>\n//                     )\n//                   })}\n\n\n\n\n\n//                 </div>\n//               </div>\n//             </div>\n\n//           </div>\n//         </div>\n\n\n//       </>\n//     )\n//   }\n// }\n\n\n\n// export default App;\n\n\n\nimport React from 'react';\nimport './App.css';\nimport logo from './logo.svg';\n\nclass App extends React.Component {\n  constructor(props){\n    super(props);\n      this.state = {\n        todoList:[],\n        activeItem:{\n          id:null, \n          title:'',\n          completed:false,\n        },\n        editing:false,\n      }\n      this.fetchTasks = this.fetchTasks.bind(this)\n      this.handleChange = this.handleChange.bind(this)\n      this.handleSubmit = this.handleSubmit.bind(this)\n      this.getCookie = this.getCookie.bind(this)\n\n\n      this.startEdit = this.startEdit.bind(this)\n      this.deleteItem = this.deleteItem.bind(this)\n      this.strikeUnstrike = this.strikeUnstrike.bind(this)\n  };\n\n  getCookie(name) {\n    var cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        var cookies = document.cookie.split(';');\n        for (var i = 0; i < cookies.length; i++) {\n            var cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}\n\n  componentWillMount(){\n    this.fetchTasks()\n  }\n\n  fetchTasks(){\n    console.log('Fetching...')\n\n\n    fetch('http://127.0.0.1:8000/todolist')\n    .then(response => response.json())\n    .then(data => \n      this.setState({\n        todoList:data\n      })\n      )\n  }\n\n  handleChange(e){\n    var name = e.target.name\n    var value = e.target.value\n    console.log('Name:', name)\n    console.log('Value:', value)\n\n    this.setState({\n      activeItem:{\n        ...this.state.activeItem,\n        title:value\n      }\n    })\n  }\n\n  handleSubmit(e){\n    e.preventDefault()\n    console.log('ITEM:', this.state.activeItem)\n\n    var csrftoken = this.getCookie('csrftoken')\n\n    var url = 'http://127.0.0.1:8000/createItem'\n\n    if(this.state.editing == true){\n      url = `http://127.0.0.1:8000/updateItem/${this.state.activeItem.id}`\n      this.setState({\n        editing:false\n      })\n    }\n\n\n\n    fetch(url, {\n      method:'POST',\n      headers:{\n        'Content-type':'application/json',\n        'X-CSRFToken':csrftoken,\n      },\n      body:JSON.stringify(this.state.activeItem)\n    }).then((response)  => {\n        this.fetchTasks()\n        this.setState({\n           activeItem:{\n          id:null, \n          title:'',\n          completed:false,\n        }\n        })\n    }).catch(function(error){\n      console.log('ERROR:', error)\n    })\n\n  }\n\n  startEdit(task){\n    this.setState({\n      activeItem:task,\n      editing:true,\n    })\n  }\n\n\n  deleteItem(task){\n    var csrftoken = this.getCookie('csrftoken')\n\n    fetch(`http://127.0.0.1:8000/deleteItem/${task.id}`, {\n      method:'DELETE',\n      headers:{\n        'Content-type':'application/json',\n        'X-CSRFToken':csrftoken,\n      },\n    }).then((response) =>{\n\n      this.fetchTasks()\n    })\n  }\n\n\n  strikeUnstrike(task){\n\n    task.completed = !task.completed\n    var csrftoken = this.getCookie('csrftoken')\n    var url = `http://127.0.0.1:8000/updateItem/${task.id}`\n\n      fetch(url, {\n        method:'POST',\n        headers:{\n          'Content-type':'application/json',\n          'X-CSRFToken':csrftoken,\n        },\n        body:JSON.stringify({'completed': task.completed, 'title':task.title})\n      }).then(() => {\n        this.fetchTasks()\n      })\n\n    console.log('TASK:', task.completed)\n  }\n\n\n  render(){\n    var tasks = this.state.todoList\n    var self = this\n    return(\n      <>\n          <nav className='navbar bg-dark text-white'>\n               <h4><img src={logo} alt=\"react-logo\" className='r-logo' />REACT</h4>\n                            </nav>\n        <div className=\"container mt-5\">\n\n          <div id=\"task-container \">\n              <div  id=\"form-wrapper\">\n                 <form onSubmit={this.handleSubmit}  id=\"form\">\n                    <div className=\"flex-wrapper\">\n                        <div style={{flex: 6}}>\n                            <input onChange={this.handleChange} className=\"form-control\" id=\"title\" value={this.state.activeItem.title} type=\"text\" name=\"title\" placeholder=\"Add task..\" />\n                         </div>\n\n                         <div style={{flex: 1}}>\n                            <input id=\"submit\" className=\"btn btn-warning\" type=\"submit\" name=\"Add\" />\n                          </div>\n                      </div>\n                </form>\n             \n              </div>\n\n              <div  id=\"list-wrapper\">  \n                     \n                    {tasks.map(function(task, index){\n                      return(\n\n        \n                          <div key={index} className=\"task-wrapper flex-wrapper\">\n\n                            <div onClick={() => self.strikeUnstrike(task)} style={{flex:7}}>\n\n                                {task.completed == false ? (\n                                    <span>{task.title}</span>\n\n                                  ) : (\n\n                                    <strike>{task.title}</strike>\n                                  )}\n  \n                            </div>\n\n                            <div style={{flex:1}}>\n                                <button onClick={() => self.startEdit(task)} className=\"btn btn-sm btn-outline-info\">Edit</button>\n                            </div>\n\n                            <div style={{flex:1}}>\n                                <button onClick={() => self.deleteItem(task)} className=\"btn btn-sm btn-outline-dark delete\">-</button>\n                            </div>\n\n                          </div>\n                        )\n                    })}\n              </div>\n          </div>\n          \n        </div>\n        </>\n      )\n  }\n}\n\n\n\nexport default App;\n"],"mappings":";AAAA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAMA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAIA;AAIA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,YAAjB;;;;AAEA,MAAMC,GAAN,SAAkBF,KAAK,CAACG,SAAxB,CAAkC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"},"metadata":{},"sourceType":"module"}